<Window x:Class="BauphysikToolWPF.UI.PropertyWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:controls="clr-namespace:BauphysikToolWPF.UI.CustomControls"
        xmlns:viewModels="clr-namespace:BauphysikToolWPF.UI.ViewModels"
        xmlns:ui="clr-namespace:BauphysikToolWPF.Services.UI"
        mc:Ignorable="d"
        Title="PropertyWindow" Height="450" Width="800">

    <Window.DataContext>
        <viewModels:PropertyWindow_VM/>
    </Window.DataContext>

    <Window.Resources>
        <ui:NumberConverter x:Key="NumberConverter" />
    </Window.Resources>

    <Grid>
        <ScrollViewer VerticalScrollBarVisibility="Hidden"
              CanContentScroll="False"
              PreviewMouseWheel="ScrollViewer_OnPreviewMouseWheel">
            <StackPanel>

                <controls:Gauge Title="U-Wert:"
                                Caption="{Binding UValueGauge.Caption}"
                                ToolTip="{Binding UValueGauge.Tooltip}"
                                Value="{Binding UValueGauge.Value}"
                                UnitLabel="{Binding UValueGauge.Unit}"
                                MinValue="{Binding UValueGauge.ScaleMin}"
                                MaxValue="{Binding UValueGauge.ScaleMax}"
                                SymbolLabelBase="{Binding UValueGauge.SymbolBase}"
                                SymbolLabelSubscript="{Binding UValueGauge.SymbolSubscript}"
                                ReferenceMarkerValue="{Binding UValueGauge.MarkerValue}"
                                MarkerSymbolLabelBase="{Binding UValueGauge.MarkerSymbolBase}"
                                MarkerSymbolLabelSubscript="{Binding UValueGauge.MarkerSymbolSubscript}"
                                Margin="4,0,4,8"/>
                <controls:Gauge Title="R-Wert:"
                                Caption="{Binding RValueGauge.Caption}"
                                ToolTip="{Binding RValueGauge.Tooltip}"
                                Value="{Binding RValueGauge.Value}"
                                UnitLabel="{Binding RValueGauge.Unit}"
                                MinValue="{Binding RValueGauge.ScaleMin}"
                                MaxValue="{Binding RValueGauge.ScaleMax}"
                                SymbolLabelBase="{Binding RValueGauge.SymbolBase}"
                                SymbolLabelSubscript="{Binding RValueGauge.SymbolSubscript}"
                                ReferenceMarkerValue="{Binding RValueGauge.MarkerValue}"
                                MarkerSymbolLabelBase="{Binding RValueGauge.MarkerSymbolBase}"
                                MarkerSymbolLabelSubscript="{Binding RValueGauge.MarkerSymbolSubscript}"
                                ReverseGradient="True"
                                Margin="4,0,4,8"/>

                <controls:PropertyDataGrid x:Name="LayerPropertiesDataGrid"
                                           Properties="{Binding PropertyBag}"/>

                <!--EnvVars Innen-->
                <Expander Header="Umgebungsrandbedingungen, Innen" IsExpanded="True" Margin="0,0,0,8">
                    <StackPanel Margin="28,0,0,0">
                        <!--Innenseitige Randbedingungen-->
                        <controls:SubscriptLabel BaseText="θ" SubscriptText="i" AppendText=" - Raumluft" VerticalAlignment="Top" HorizontalAlignment="Left" Height="24" Foreground="Black" FontWeight="DemiBold"/>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom">
                            <ComboBox ItemsSource="{Binding TiKeys}" SelectedIndex="{Binding TiIndex}" Width="176" Foreground="Black" FontWeight="Normal"/>
                            <TextBox Text="{Binding TiValue, Converter={StaticResource NumberConverter}, ConverterParameter=1}" PreviewTextInput="numericData_PreviewTextInput" MaxLength="5" Margin="8,0,0,0" Foreground="Black" FontWeight="Normal"/>
                            <Label Content="°C" Foreground="Black" FontWeight="Normal"/>
                        </StackPanel>
                        <controls:SubscriptLabel BaseText="R" SubscriptText="si" AppendText=" - Übergangswiderstand" VerticalAlignment="Top" HorizontalAlignment="Left" Height="24" Foreground="Black" FontWeight="DemiBold"/>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom" HorizontalAlignment="Stretch">
                            <ComboBox ItemsSource="{Binding RsiKeys}" SelectedIndex="{Binding RsiIndex}" Width="176" Foreground="Black" FontWeight="Normal"/>
                            <TextBox Text="{Binding RsiValue, Converter={StaticResource NumberConverter}}" PreviewTextInput="numericData_PreviewTextInput" MaxLength="5" Margin="8,0,0,0" Foreground="Black" FontWeight="Normal"/>
                            <controls:FractionLabel CounterText="m²K" DenominatorText="W" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="4,-5,0,0" Foreground="Black" FontWeight="Normal"/>
                        </StackPanel>
                        <controls:SubscriptLabel BaseText="Φ" SubscriptText="i" AppendText=" - Rel. Feuchte" VerticalAlignment="Top" HorizontalAlignment="Left" Height="24" Foreground="Black" FontWeight="DemiBold"/>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom">
                            <ComboBox ItemsSource="{Binding RelFiKeys}" SelectedIndex="{Binding RelFiIndex}" Width="176" Foreground="Black" FontWeight="Normal"/>
                            <TextBox Text="{Binding RelFiValue, Converter={StaticResource NumberConverter}, ConverterParameter=1}" PreviewTextInput="numericData_PreviewTextInput" MaxLength="5" Margin="8,0,0,0" Foreground="Black" FontWeight="Normal"/>
                            <Label Content="%" Foreground="Black" FontWeight="Normal"/>
                        </StackPanel>
                    </StackPanel>
                </Expander>

                <!--EnvVars Außen-->
                <Expander Header="Umgebungsrandbedingungen, Außen" IsExpanded="True" Margin="0,0,0,8">
                    <StackPanel Margin="28,0,0,0">
                        <!--Außenseitige Randbedingungen-->
                        <controls:SubscriptLabel BaseText="θ" SubscriptText="e" AppendText=" - Außenluft" VerticalAlignment="Top" HorizontalAlignment="Left" Height="24" Foreground="Black" FontWeight="DemiBold"/>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom">
                            <ComboBox ItemsSource="{Binding TeKeys}" SelectedIndex="{Binding TeIndex}" Width="176" Foreground="Black" FontWeight="Normal"/>
                            <TextBox Text="{Binding TeValue, Converter={StaticResource NumberConverter}, ConverterParameter=1}" PreviewTextInput="numericData_PreviewTextInput" MaxLength="5" Margin="8,0,0,0" Foreground="Black" FontWeight="Normal"/>
                            <Label Content="°C" Foreground="Black" FontWeight="Normal"/>
                        </StackPanel>
                        <controls:SubscriptLabel BaseText="R" SubscriptText="se" AppendText=" - Übergangswiderstand" VerticalAlignment="Top" HorizontalAlignment="Left" Height="24" Foreground="Black" FontWeight="DemiBold"/>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom">
                            <ComboBox ItemsSource="{Binding RseKeys}" SelectedIndex="{Binding RseIndex}" Width="176" Foreground="Black" FontWeight="Normal"/>
                            <TextBox Text="{Binding RseValue, Converter={StaticResource NumberConverter}}" PreviewTextInput="numericData_PreviewTextInput" MaxLength="5" Margin="8,0,0,0" Foreground="Black" FontWeight="Normal"/>
                            <controls:FractionLabel CounterText="m²K" DenominatorText="W" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="4,-5,0,0" Foreground="Black" FontWeight="Normal"/>
                        </StackPanel>
                        <controls:SubscriptLabel BaseText="Φ" SubscriptText="e" AppendText=" - Rel. Feuchte" VerticalAlignment="Top" HorizontalAlignment="Left" Height="24" Foreground="Black" FontWeight="DemiBold"/>
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Bottom" >
                            <ComboBox ItemsSource="{Binding RelFeKeys}" SelectedIndex="{Binding RelFeIndex}" Width="176" Foreground="Black" FontWeight="Normal"/>
                            <TextBox Text="{Binding RelFeValue, Converter={StaticResource NumberConverter}, ConverterParameter=1}" PreviewTextInput="numericData_PreviewTextInput" MaxLength="5" Margin="8,0,0,0" Foreground="Black" FontWeight="Normal"/>
                            <Label Content="%" Foreground="Black" FontWeight="Normal"/>
                        </StackPanel>
                    </StackPanel>
                </Expander>

            </StackPanel>

        </ScrollViewer>

    </Grid>
</Window>
